<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Users</h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-body">

                <form role="form" class="form form-filter">

                    <div class="form-group">
                        <label>Търсене</label>
                        <input name="search" type="text" class="form-control"
                               ng-model="data.filter.search"
                        />
                    </div>

                    <div class="form-group">
                        <label>Права</label>
                        <select name="role" class="form-control"
                                ng-model="data.filter.role"
                        >
                            <option value="">Всички</option>
                            <option value="user">Потребител</option>
                            <option value="admin">Администратор</option>
                        </select>
                    </div>

                </form>

            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th class="col-md-1" sortable-column="id">#</th>
                <th class="col-md-3" sortable-column="email">Е-поща</th>
                <th class="col-md-2" sortable-column="firstName">Име</th>
                <th class="col-md-2" sortable-column="lastName">Фамилия</th>
                <th class="col-md-2" sortable-column="lastLoginAt|date:'yyyyMMddHHmmss'">Последно влизане</th>
                <th class="col-md-1 text-center" sortable-column="isAdmin">Права</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="row in rows | filter:usersController.filterRows(data.filter) | orderBy:data.order.key:data.order.reverse">
                <td>{{row.id}}</td>
                <td>{{row.email}}</td>
                <td>{{row.firstName}}</td>
                <td>{{row.lastName}}</td>
                <td>{{row.lastLoginAt | date}}</td>
                <td class="text-center">
                    <button type="button" class="btn btn-sm"
                            ng-class="{'btn-warning': row.isAdmin, 'btn-default': !row.isAdmin}"
                            ng-click="usersController.toggleAdmin(row)">
                        <span ng-if="row.isAdmin">Администратор</span>
                        <span ng-if="!row.isAdmin">Потребител</span>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
